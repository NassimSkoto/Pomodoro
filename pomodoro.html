<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PomoDoro</title>
</head>

<body>
    <div class="container">
        <!-- Inputs pour sélectionner les temps de travail et de repos -->
        <div class="inputs-container">
            <label for="workTime">Temps de travail (minutes) :</label>
            <input type="number" id="workTime" min="1" value="25">
            
            <label for="breakTime">Temps de repos (minutes) :</label>
            <input type="number" id="breakTime" min="1" value="5">
        </div>

        <!-- Bouton pour démarrer le timer -->
        <button id="startButton" class="start-button">Démarrer</button>

        <!-- Timer -->
        <div class="timer-Container">
            <p id="timerID" class="timer">25 : 00</p>
        </div>

        <!-- Bouton pour mettre en pause et relancer le timer avec des icônes -->
        <button id="pauseButton" class="pause-button" disabled>&#9208;</button> <!-- Symbole Pause -->
    </div>

    <script>
        let minute = 0;
        let seconde = 0;
        let travailler = true;
        let isPaused = false;
        let interval;

        // Fonction pour démarrer le timer avec les temps définis par l'utilisateur
        document.getElementById("startButton").addEventListener("click", function () {
            const tempsTravaille = parseInt(document.getElementById("workTime").value);
            const tempsRepos = parseInt(document.getElementById("breakTime").value);
            minute = tempsTravaille;
            seconde = 0;
            travailler = true;

            // Affiche initiale du temps choisi
            document.getElementById("timerID").textContent = minute + ":00";
            
            // Active le bouton pause et démarre le timer
            document.getElementById("pauseButton").disabled = false;
            start(tempsTravaille, tempsRepos);
        });

        // Fonction pour démarrer le timer
        function start(tempsTravaille, tempsRepos) {
            clearInterval(interval); // Réinitialiser l'intervalle s'il était déjà en cours
            interval = setInterval(function () {
                afficheTime(tempsTravaille, tempsRepos);
            }, 1000);
        }

        // Fonction pour afficher le temps
        function afficheTime(tempsTravaille, tempsRepos) {
            if (!isPaused) {
                if (minute <= 0 && seconde <= 0) {
                    if (travailler) {
                        travailler = false;
                        minute = tempsRepos;
                        seconde = 0;
                    } else {
                        travailler = true;
                        minute = tempsTravaille;
                        seconde = 0;
                    }
                }

                if (seconde === 0 && minute > 0) {
                    minute--;
                    seconde = 59;
                } else if (seconde > 0) {
                    seconde--;
                }

                document.getElementById("timerID").textContent =
                    minute + ":" + (seconde < 10 ? "0" + seconde : seconde);
            }
        }

        // Fonction pour mettre en pause et reprendre le timer
        document.getElementById("pauseButton").addEventListener("click", function () {
            isPaused = !isPaused;
            this.innerHTML = isPaused ? "&#9654;" : "&#9208;";
        });
    </script>
</body>

</html>
